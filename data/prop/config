# Engine Controller

protocol = udp
port = 8080
name = engine_controller
endianness = little
multicast = 224.0.0.1
triggers = triggers


## measurements ##

# valve relays
SOLENOID_OX          2 int unsigned
SOLENOID_FUEL        2 int unsigned
SOLENOID_OX_PURGE    2 int unsigned
SOLENOID_FUEL_PURGE  2 int unsigned
IGNITER_MAIN         2 int unsigned

# dummy light tower relays
LED_G     2 int unsigned
LED_Y     2 int unsigned
LED_R     2 int unsigned
LED_BUZZ  2 int unsigned

# command sequence number
SEQ_NUM 4 int unsigned

# heartbeat number
HEARTBEAT 2 int unsigned

# mode number
MODE 2 int unsigned

# safing number
SAFING 2 int unsigned


# calculated strings
OX_STR          10 string
FUEL_STR        10 string
OX_PURGE_STR    10 string
# FUEL_PURGE_STR  10 string
IGNITER_STR     10 string
MODE_STR        10 string
SAFING_STR      10 string


## telemetry packets ##

# sequence number only
8080 {
SEQ_NUM
}

# solenoids
8081 {
SOLENOID_OX
SOLENOID_FUEL
SOLENOID_OX_PURGE
SEQ_NUM
}

# igniters
8082 {
IGNITER_MAIN
SEQ_NUM
}

# light tower
8083 {
LED_G
LED_Y
LED_R
LED_BUZZ
SEQ_NUM
}

# everything
8084 {
SOLENOID_OX
SOLENOID_FUEL
SOLENOID_OX_PURGE
IGNITER_MAIN
LED_G
LED_Y
LED_R
LED_BUZZ
SEQ_NUM
HEARTBEAT
}

8085 {
SEQ_NUM
MODE
SAFING
}

# calculated solenoid strings
virtual {
OX_STR
FUEL_STR
OX_PURGE_STR
}

# calculated igniter strings
virtual {
IGNITER_STR
}

# calcualted mode and safing strings
virtual {
MODE_STR
SAFING_STR
}
